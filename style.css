:root{
  --bg:#0b0b0c; --fg:#e9e9ee; --muted:#a7a7b0;
  --red:#e34b4b; --yellow:#e9c64a; --blue:#4b8fe3;
  --edge:#a0a0aa33; --edge-hi:#ffffffaa;
  --card:#131316; --accent:#ffffff;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
.site-header,.site-footer{padding:16px 20px;border-bottom:1px solid #202026}
.site-footer{border:0;border-top:1px solid #202026}
.container{max-width:1100px;margin:0 auto;padding:20px}
.card{background:var(--card);padding:16px 18px;border:1px solid #202026;border-radius:10px;margin-bottom:16px}
.button{display:inline-block;background:var(--accent);color:#000;padding:10px 14px;border-radius:8px;font-weight:600}
.button--ghost{background:transparent;border:1px solid #2a2a33;color:var(--fg);padding:8px 10px;border-radius:8px}

.map-wrap{position:relative;background:#101013;border:1px solid #202026;border-radius:12px;overflow:hidden}
#map{display:block;width:100%;height:auto}
.hint{color:var(--muted);margin-top:10px}

/* Nodes */
.node{cursor:pointer;transition:transform .08s ease}
.node:hover{transform:scale(1.06)}
.label{pointer-events:none;font-size:12px;fill:var(--fg);text-anchor:middle;dominant-baseline:middle}
.label-bg{fill:#000;fill-opacity:.45;rx:4;ry:4}

/* Edges */
.edge{stroke:var(--edge);stroke-width:2;opacity:0;transition:opacity .08s ease}
.edge--hi{stroke:var(--edge-hi);stroke-width:2.5}

/* Ring guides */
.ring{fill:none;stroke:#ffffff10;stroke-dasharray:6 6}

/* Tooltip */
.tooltip{position:absolute;min-width:180px;max-width:280px;background:#0e0e11;border:1px solid #2a2a33;border-radius:10px;padding:10px 12px;box-shadow:0 6px 20px #0008}
.tooltip h3{margin:0 0 6px 0;font-size:14px}
.tooltip p{margin:0;color:var(--muted);font-size:12px}

/* Global Nav */
.global-nav{display:flex;gap:8px;flex-wrap:wrap;align-items:center;padding:10px 20px;border-bottom:1px solid #202026;background:#0e0e11}
.global-nav a{display:inline-block;padding:8px 10px;border:1px solid #2a2a33;border-radius:8px;text-decoration:none}
.global-nav a:hover{text-decoration:none;border-color:#3a3a44}
.global-nav .is-active{border-color:#ffffff66}
.global-nav .spacer{flex:1}
.legend{font-size:12px;color:var(--muted)}
.legend .dot{display:inline-block;width:.8em;height:.8em;border-radius:50%;margin:0 .3em -.1em .6em}
.legend .ex{background:var(--red)} .legend .so{background:var(--yellow)} .legend .st{background:var(--blue)}

/* A11y helpers */
.visually-hidden-focusable{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}
.visually-hidden-focusable:focus{position:static;width:auto;height:auto;padding:8px 10px;background:#222;border-radius:6px}
